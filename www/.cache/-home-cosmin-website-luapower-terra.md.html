<h2 id="local-terra-requireterra"><code>local terra = require'terra'</code></h2>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD This is a modified build of the <a href="http://terralang.org">Terra</a> library which allows the Terra runtime to be loaded from Lua as a Lua/C module. The terra module exposes the complete Terra Lua API and installs a require() loader for loading .t files from the same locations that are used for loading Lua files.</p>
<h2 id="binaries">Binaries</h2>
<p>Because binaries are huge, they are released <a href="https://github.com/luapower/terra/releases">separately</a>.</p>
<h2 id="building">Building</h2>
<h1 id="building-terra-requires-llvm.">Building terra requires <a href="/llvm">llvm</a>.</h1>
<p>This is a slightly modified build of the <a href="http://terralang.org">Terra</a> library which allows the Terra runtime to be loaded from Lua as a Lua/C module. The terra module exposes the complete Terra Lua API and installs a require() loader for loading .t files from the same locations that are used for loading Lua files.</p>
<p><strong>NOTE:</strong> 32bit platforms are not yet supported (the included binaries work but there's no interfacing between Terra and Lua and no debug support).</p>
<h2 id="building-1">Building</h2>
<p>Building terra requires <a href="/llvm">llvm</a>.</p>
<h2 id="bundling">Bundling</h2>
<p><a href="/bundle">Bundling</a> terra requires bunding in the <a href="/llvm">llvm</a> static libraries. There's a script documenting what these are that can be used with bundle directly:</p>
<pre><code>bundle ... -a terra -a &quot;$(csrc/terra/bundle-libs)&quot;</code></pre>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>d17849af2aaabad79f8193e42b4dc3d3c7554545</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h2 id="changes-to-terra">Changes to terra</h2>
<p>The <a href="https://github.com/luapower/terra_fork/compare/aa9501...luapower:master">source code changes</a> made to terra were kept to a minimum to make it easy to to merge <a href="https://github.com/luapower/terra_fork/compare/aa9501...zdevito:master">upstream changes</a> back into the luapower terra fork. This is similar to how <a href="/dynasm">dynasm</a> was modified for luapower. Anyway, the changelist:</p>
<ul>
<li>the <code>terra</code> dynamic lib does not bundle luajit and is exposed as a Lua/C module. &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</li>
<li>the <code>terra</code> static lib bundles LLVM + Clang so that the llvm package is not needed to <a href="/bundle">bundle</a> Terra, only to build it.</li>
<li><h1 id="terralib.lua-and-cudalib.lua-are-not-bundled-into-the-binary."><code>terralib.lua</code> and <code>cudalib.lua</code> are not bundled into the binary.</h1></li>
<li><code>terralib.lua</code> and <code>cudalib.lua</code> are not bundled into the binary, and are provided separately. &gt;&gt;&gt;&gt;&gt;&gt;&gt; d17849af2aaabad79f8193e42b4dc3d3c7554545</li>
<li><code>strict.lua</code> is not loaded and not included (it's included with <a href="/luajit">luajit</a> and must be loaded manually as needed).</li>
<li><code>std.t</code> and <code>parsing.t</code> were renamed <code>terra_std.t</code> and <code>terra_parsint.t</code>. respectively and are now in the luapower dir along with all Lua files. &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</li>
<li><code>libterra.so</code> was renamed <code>libterra.dylib</code> on OSX.</li>
<li><h1 id="clangs-resource_dir-is-binplatforminclude.">clang's <code>resource_dir</code> is <code>bin/&lt;platform&gt;/include</code>.</h1></li>
<li>the location of clang's <code>resource_dir</code> is yet to be determined. &gt;&gt;&gt;&gt;&gt;&gt;&gt; d17849af2aaabad79f8193e42b4dc3d3c7554545</li>
</ul>
