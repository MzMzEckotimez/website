<table width=100%>
	<tr>
		<td valign=top width=110 style="padding-right: 20px;">
			{{^info}}{{^download}}
			{{#docs}}
				{{#selected}}<span class=selected_doc>{{name}}</span>{{/selected}}
				{{^selected}}<a href="/{{name}}">{{name}}</a>{{/selected}}
				<br>
			{{/docs}}
			<br>
			{{#cats}}
			<div class="package_cat_name">{{name}}</div>
			{{#packages}}
				{{#selected}}<span class=selected_doc>{{package}}</span>{{/selected}}
				{{^selected}}<a href="/{{package}}">{{package}}</a>{{/selected}}
				<br>
			{{/packages}}
			{{/cats}}
			{{/download}}{{/info}}
		</td>
		<td valign=top>
			<table width=100%>
				<tr>
					<td valign=top>
						<h1 class=tight>{{title}}</h1>
						<h4 class=tight>{{tagline}}</h4>
					</td>
					<td valign=top align=right class=action_links>
						<a href="/{{package}}" class="nowrap {{^info}}{{^download}}selected_link{{/download}}{{/info}}"><i class="fa fa-file-text-o"></i> documentation</a>
						<a href="/{{package}}/info" class="nowrap {{#info}}selected_link{{/info}}"><i class="fa fa-info-circle"></i> package info</a>
						<a href="/{{package}}/download" class="nowrap download_link {{#download}}selected_link{{/download}}"><i class="fa fa-download"></i> download</a>
					</td>
				</tr>
			</table>
			<br>

			<!-- download =================================================== -->
			{{#download}}
			<h2>Download</h2>
			<table>
				<tr>
					<td valign=top style="padding-right: 1em">
						<a class=download_btn href="https://github.com/luapower/{{package}}/archive/master.zip">
							<i class="fa fa-download"></i>
							<span>{{package}}-master.zip</span>&nbsp;&nbsp;&nbsp;
						</a>
						<br>
						<a class="small download_link" href="https://github.com/luapower/{{package}}/archive/master.tar.gz">
							<i class="fa fa-download"></i>
							<span>{{package}}-master.tar.gz</span>
						</a>
					</td>
					<td valign=top>
						{{#changes_url}}
							<a href="{{changes_url}}">Changes since {{git_tag}}...</a>
						{{/changes_url}}
					</td>
				</tr>
			</table>

			<h2>Clone with <a href="/luapower-git"><span>multigit</span></a></h2>
			<div>
				<div class="switch_group" switch_group_for=".clone_for" active_switch=".clone_for_all" persistent=1>
				{{#clone_lists}}
					<a switch_for=".clone_for_{{platform}}" class="{{disabled}}"><i {{#icon}}class="icon-{{icon}}"{{/icon}}>{{text}}</i></a>&nbsp;
				{{/clone_lists}}
				</div>
			</div>
			<div class=doc>
				{{#clone_lists}}
				<pre class="clone_for clone_for_{{platform}} {{hidden}}"><code>{{#is_unix}}./{{/is_unix}}mgit clone{{#packages}} {{dep_package}}{{/packages}}
</code></pre>
				{{/clone_lists}}
			</div>

			<h2>
				Releases
				<a href="https://github.com/luapower/{{package}}/releases"
					class=hastip
					style="margin-left: 1em"
					title="View releases on github">
					<i class="fa fa-github"></i>
				</a>
			</h2>
			<table>
			{{#git_tags}}
				<tr>
					<td valign=top style="padding-right: 1em">
						<a href="https://github.com/luapower/{{package}}/releases/tag/{{tag}}">{{tag}}</a>
					</td>
					<td valign=top style="padding-right: 1em">
						<span class=time time="{{time}}" reltime="{{reltime}}"></span>
					</td>
					<td valign=top style="padding-bottom: 1em">
						<a class="nowrap small download_link" href="https://github.com/luapower/{{package}}/archive/{{tag}}.zip">
							<i class="fa fa-download"></i>
							<span>{{package}}-{{tag}}.zip</span>
						</a>
						<br>
						<a class="nowrap small download_link" href="https://github.com/luapower/{{package}}/archive/{{tag}}.tar.gz">
							<i class="fa fa-download"></i>
							<span>{{package}}-{{tag}}.tar.gz</span>
						</a>
					</td valign=top>
					<td valign=top style="padding-left: 1em">
						<a href="{{changes_url}}">{{changes_text}}</a>
					</td>
				</tr>
			{{/git_tags}}
			</table>
			{{^git_tags}}
				No releases made yet.
			{{/git_tags}}

			<!--
			<h2>Install with <a href="http://luarocks.org/">LuaRocks</a></h2>
			<pre>
luarocks install --server=http://rocks.moonscript.org/m/luapower {{package}}
			</pre>
			-->
			<br>
			<br>
			{{/download}}

			<!-- info ======================================================= -->
			{{#info}}

			<h2>Overview</h2>
			<table class=doc>
				<tr><td>Package type:</td><td><a href="/get-involved">{{type}}</a></td></tr>
				<tr><td>Version:</td><td>{{version}}</td></tr>
				<tr><td>Last commit:</td><td><span class=time time="{{mtime}}" reltime="{{mtime_ago}}"></td></tr>
				<tr>
					<td>Releases:</td>
					<td>
						{{#has_git_tags}}
							{{#git_tags}}
								<a href="https://github.com/luapower/{{package}}/releases/tag/{{tag}}">{{tag}}</a>
							{{/git_tags}}
							<a href="https://github.com/luapower/{{package}}/releases"><i class="fa fa-github"></i></a>
						{{/has_git_tags}}
						{{^has_git_tags}}
							None yet.
						{{/has_git_tags}}
					</td>
				</tr>
				<tr>
					<td>Platforms:</td>
					<td>
						{{#platforms}}
							{{#icon}}<span class="icon icon-{{icon}}"></span>{{/icon}}
							{{name}}
						{{/platforms}}
					</td>
				</tr>
			</table>

			<h2>Combined Package Dependencies
				&nbsp;
				<a class=infotip>
					This is a combined list of packages required by <b><i>all modules</i></b> of this<br>
					package on each supported platform, plus <b><i>binary dependencies</i></b> if any.<br>
					Darker names, if present, represent indirect dependencies.<br>
					<br>
					<b>Note:</b> These are only the dependencies required for the modules to <i>load</i>.<br>
					Runtime dependencies, if any, are shown separately below.<br>
					<br>
					<b>Tip:</b> You may not need all the dependencies listed here if you are not planning<br>
					 to use all the modules of the package -- look at per-module dependencies below.<br>
				</a>
				&nbsp;
				<a class="hastip package_dep_switch" title="show as table"><i class="fa fa-table"></i></a>
				<a class="hastip package_dep_switch hidden" title="show as list"><i class="fa fa-list"></i></a>
			</h2>
			{{#has_package_deps}}
			<table class="dep_lists package_dep_lists">
				{{#package_deps}}
				<tr>
					<td class=col1 valign=top align=right>
						{{#icon}}<span class="icon-{{icon}}"></span>{{/icon}}
						{{^icon}}<i>common</i>{{/icon}}
					</td>
					<td class=col2 valign=top>
						{{#packages}}
						{{#icon}}<span class=gray>&#43;</span>{{/icon}}<a href="/{{dep_package}}/info" class="{{kind}}">{{dep_package}}</a>&nbsp;
						{{/packages}}
					</td>
				</tr>
				{{/package_deps}}
			</table>
			<div class="dep_matrix package_dep_matrix doc hidden">
				<table>
					<thead>
						<tr>
							<th></th>
							{{#depmat_names}}
							<th><a href="/{{.}}">{{.}}</a></th>
							{{/depmat_names}}
						</tr>
					</thead>
					<tbody>
						{{#depmat}}
						<tr>
							<td>
								{{#icon}}<span class="icon-{{icon}}"></span>{{/icon}}
								{{text}}
							</td>
							{{#pkg}}
							<td align=center>
								{{#.}}
									{{#checked}}<i class="fa fa-check {{kind}}"></i>{{/checked}}
								{{/.}}
							</td>
							{{/pkg}}
						</tr>
						{{/depmat}}
					</tbody>
				</table>
				</div>
			{{/has_package_deps}}
			{{^has_package_deps}}
				<span class=smallnote>No dependencies.</span>
			{{/has_package_deps}}

			{{#has_modules}}
			<h2>
				<span class="package_toggle">Package</span>
				<span class="module_toggle hidden">Module</span>
				Dependencies
				&nbsp;
				<a class=infotip>
					<span class=package_toggle>
						These are the lists of packages required by each module of this package.
						<br>Darker names, if present, represent indirect dependencies.
					</span>
					<span class="module_toggle hidden">
						These are the lists of modules required by each module of this package.
						<br>Darker names, if present, represent indirect dependencies.
						<br>Even darker names are internal dependencies.
					</span>
				</a>
				&nbsp;
				<a class="hastip modpkg_switch" type=P title="show required modules">P</a>
				<a class="hastip modpkg_switch hidden" type=M title="show required packages">M</a>
			</h2>
			<table id=module_table>
				<tr>
					<th></th>
					<th align=left valign=top style="padding-bottom: 1em">module &nbsp;</th>
					<th align=left valign=top>
						<span class="package_toggle">package</span>
						<span class="module_toggle hidden">module</span>
						dependencies
					</th>
				</tr>
				{{#modules}}
				<tr>
					<td valign=top align=center width=30>
						{{#icons}}
							<span class="icon-{{name}} {{disabled}}" title="{{title}}"></span>
						{{/icons}}
					</td>
					<td class="nowrap" valign=top style="padding-right: 1em">
						{{#source_url}}
							<a href="{{source_url}}">{{module}}</a>
						{{/source_url}}
						{{^source_url}}
							<span>{{module}}</span>
						{{/source_url}}
					</td>
					<td valign=top>
						<span class="{{error_class}}">
						{{#load_errors}}
							{{#icon}}<span class="icon-{{icon}}" style="padding-right: 0.5em"></span>{{/icon}}
							{{#errors}}{{.}}<br>{{/errors}}
						{{/load_errors}}
						</span>
						<div class="package_toggle">
						{{#package_deps}}
							{{#icon}}<span class="icon-{{icon}}" style="padding-right: 0.5em"></span>{{/icon}}
							{{#packages}}
								<a href="/{{dep_package}}/info" class="{{kind}}">{{dep_package}}</a>&nbsp;
							{{/packages}}
						{{/package_deps}}
						</div>
						<div class="module_toggle hidden">
						{{#module_deps}}
							{{#icon}}<span class="icon-{{icon}}" style="padding-right: 0.5em"></span>{{/icon}}
							{{#modules}}
								{{#dep_source_url}}
									<a href="{{dep_source_url}}" class="{{kind}}">{{dep_module}}</a>
								{{/dep_source_url}}
								{{^dep_source_url}}
									<span class="{{kind}}">{{dep_module}}</span>
								{{/dep_source_url}}
								&nbsp;
							{{/modules}}
						{{/module_deps}}
					</td>
				</tr>
				{{/modules}}
			</table>
			{{/has_modules}}

			{{#has_bin_deps}}
			<h2>
				Binary Dependencies
				&nbsp;
				<a class=infotip>
					Binary dependencies are the libraries that this library is<br>
					<b><i>dynamically linked</i></b> against.<br>
					Darker names represent indirect dependencies.
				</a>
			</h2>
			<table class="dep_lists bin_lists">
				{{#bin_deps}}
				<tr>
					<td class=col1 valign=top align=right>
						{{#icon}}<span class="icon-{{icon}}"></span>{{/icon}}
						{{^icon}}<i>common</i>{{/icon}}
					</td>
					<td class=col2 valign=top>
						{{#packages}}
						{{#icon}}<span class=gray>&#43;</span>{{/icon}}<a href="/{{dep_package}}/info" class="{{kind}}">{{dep_package}}</a>&nbsp;
						{{/packages}}
					</td>
				</tr>
				{{/bin_deps}}
			</table>

			<h2>
				Build Order
				&nbsp;
				<a class=infotip>
					This is the complete list of packages that need to be compiled<br>
					<b><i>in the prescribed order</i></b> in order to build this package.
				</a>
			</h2>

			<table class=dep_lists>
				{{#build_order}}
				<tr>
					<td class=col1>
						{{#icon}}<i class="icon icon-{{icon}}"></i>{{/icon}}
						{{text}}
					</td>
					<td class=col2>
						{{#packages}}<a href="/{{.}}">{{.}}</a>&nbsp; {{/packages}}
					</td>
				</tr>
				{{/build_order}}
			</table>

			{{/has_bin_deps}}

			{{#has_autoloads}}
			<h2>Runtime Dependencies - Autoloads
				&nbsp;
				<div class=infotip>
					Some modules implement parts of their API in separate sub-modules.
					<br>These <i>implementation</i> modules are loaded automatically at runtime
					<br>only if and when accessing those APIs.
					<br>See <a href="/glue#autoload">glue.autoload</a> for how this works.
				</div>
			</h2>
			{{#modules}}{{#module_has_autoloads}}
			<table>
				<tr>
					<th></th>
					<th align=left valign=top style="padding-bottom: 1em">module.field</th>
					<th align=left valign=top>implementation module</th>
				</tr>
				{{#autoloads}}
				<tr>
					<td valign=top align=center width=30>
						<span class="icon-{{icon}}"></span>
					</td>
					<td style="padding-right: 1em">
						<a href="https://github.com/luapower/{{package}}/blob/master/{{file}}?ts=3">{{module}}.{{key}}</a>
					</td>
					<td>
						<a href="https://github.com/luapower/{{package}}/blob/master/{{impl_file}}?ts=3">{{impl_module}}</a>
					</td>
				</tr>
				{{/autoloads}}
			</table>
			{{/module_has_autoloads}}{{/modules}}
			{{/has_autoloads}}

			{{#has_runtime_deps}}
			<h2>Runtime Dependencies - Other</h2>
				&nbsp;
				<a class=infotip>
					These are additional modules that are required automatically
					<br>at runtime in specific circumstances.
					<br>Check the module's documentation or source code for when.
				</a>
				{{#modules}}{{#module_has_runtime_deps}}
				<table>
					<tr>
						<th></th>
						<th align=left style="border-bottom: 1px solid gray">module</th>
						<th align=left style="border-bottom: 1px solid gray">runtime dependencies</th>
					</tr>
					{{#runtime_deps}}
					<tr>
						<td valign=top align=center width=30>
							<span class="icon-{{icon}}"></span>
						</td>
						<td style="padding-right: 1em">
							<a href="https://github.com/luapower/{{package}}/blob/master/{{file}}?ts=3">{{module}}.{{key}}</a>
						</td>
						<td>
							<a href="https://github.com/luapower/{{package}}/blob/master/{{impl_file}}?ts=3">{{impl_module}}</a>
						</td>
					</tr>
					{{/runtime_deps}}
				</table>
				{{/module_has_runtime_deps}}{{/modules}}
			{{/has_runtime_deps}}

			{{#has_scripts}}
			<h2>Scripts</h2>
			<ul>
			{{#scripts}}
				<li>
					<a href="https://github.com/luapower/{{package}}/blob/master/{{path}}">{{name}}</a>
				</li>
			{{/scripts}}
			</ul>
			{{/has_scripts}}

			{{#has_docs}}
			<h2>Docs</h2>
			<ul>
			{{#docs}}
				<li><a href="/{{name}}">{{name}}</a></li>
			{{/docs}}
			</ul>
			{{/has_docs}}

			{{/info}}

			<!-- documentation ============================================== -->
			{{^info}}{{^download}}
			<div id=doc class=doc>
				{{{doc_html}}}
				{{^doc_html}}
				<span class="small gray">No documentation found.</span>
				{{/doc_html}}
				<br>
				<p class="small gray" style="float: right">
					{{#doc_mtime_ago}}Last updated: <b>{{doc_mtime_ago}}</b>{{/doc_mtime_ago}}
				</p>
				<!--enddoc is needed for spyscroll docnav-->
				<enddoc></enddoc>
			</div>
			{{/download}}{{/info}}

		</td>
		<td valign=top align=right class="rightside nowrap">
			<h1 class=tight style="margin-bottom: 30px">
				{{#icons}}
					<span class="icon-{{name}} {{disabled}}" title="{{title}}"></span>
				{{/icons}}
			</h1>
			<table width=100% class=infobar>
				<tr>
					<td align=left class="gray">Pkg type:</td><td align=left><a href="/get-involved">{{type}}</a></td>
				</tr>
				<tr>
					<td align=left class="gray">Version: </td><td align=left>
						<a href="https://github.com/luapower/{{package}}/commits/master">{{version}}</a>
					</td>
				</tr>
				<tr>
					<td align=left class="gray">Last commit: </td><td align=left>
						<span class=time time="{{mtime}}" reltime="{{mtime_ago}}"></span>
					</td>
				</tr>
				<tr>
					<td align=left class="gray">License: </td><td align=left>{{license}}</td>
				</tr>
				{{#c_name}}
				<tr>
					<td align=left class="gray">Import: </td><td align=left>{{c_name}}</td>
				</tr>
				{{/c_name}}
				{{#c_version}}
				<tr>
					<td align=left class="gray">Import ver: </td><td align=left><a href="{{c_url}}">{{c_version}}</a></td>
				</tr>
				{{/c_version}}
				<tr>
					<td align=left valign=top colspan=2>
						<span class="gray requires_label">Requires:</span>
						<span style="white-space: normal">
						{{#package_deps}}
							{{#icon}}<span class="gray icon-{{icon}}"></span>{{/icon}}
							{{#packages}}
								{{#icon}}<span class=gray>&#43;</span>{{/icon}}<a href="/{{dep_package}}" class="{{kind}}">{{dep_package}}</a>&nbsp;
							{{/packages}}
						{{/package_deps}}
						</span>
						{{^package_deps}}
						<span class=smallnote>none</span>
						{{/package_deps}}
					</td>
				</tr>
				<tr>
					<td align=left valign=top colspan=2>
						<span class="gray requires_label">Required by: </span>
						<span style="white-space: normal">
						{{#package_rdeps}}
							{{#icon}}<span class="gray icon-{{icon}}"></span>{{/icon}}
							{{#packages}}
								<a href="/{{dep_package}}" class="{{kind}}">{{dep_package}}</a>&nbsp;
							{{/packages}}
						{{/package_rdeps}}
						</span>
						{{^package_rdeps}}
						<span class=smallnote>none</span>
						{{/package_rdeps}}
					</td>
				</tr>
			</table>
			<br>
			<div id=docnav></div>
		</td>
	</tr>
</table>
<script>
$(function() {

	$('.package_dep_switch').click(function() {
		$('.package_dep_lists').toggle()
		$('.package_dep_matrix').toggle()
		$('.package_dep_switch').toggle()
	}).mousedown(function(e) {
		// prevent selection of subsequent text on double-click.
		e.preventDefault()
	})

	$('.modpkg_switch').click(function() {
		var pkg = $(this).attr('type') == 'P'
		$('.package_toggle').toggle()
		$('.module_toggle').toggle()
		$('.modpkg_switch').toggle()
	}).mousedown(function(e) {
		// prevent selection of subsequent text on double-click.
		e.preventDefault()
	})

})
</script>
